# üìä –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ RBAC –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

## ‚úÖ **–ß—Ç–æ –≥–æ—Ç–æ–≤–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

### üèóÔ∏è **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ RBAC (100% –≥–æ—Ç–æ–≤–æ):**
- ‚úÖ `AuthContext.ts` - —Ä–∞—Å—à–∏—Ä–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
- ‚úÖ `AuthProvider.tsx` - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `rbacService.ts` - –ø–æ–ª–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RBAC
- ‚úÖ `PermissionGuard.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- ‚úÖ `usePermissions()` - —Ö—É–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

### üß≠ **–ù–∞–≤–∏–≥–∞—Ü–∏—è (100% –≥–æ—Ç–æ–≤–æ):**
- ‚úÖ `Sidebar.tsx` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚úÖ –§–æ–ª–ª–±—ç–∫ –Ω–∞ —Ä–æ–ª–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é

### üìÑ **–°—Ç—Ä–∞–Ω–∏—Ü—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (100% –≥–æ—Ç–æ–≤–æ):**
- ‚úÖ `RoleManagement.tsx` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä, –∞–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–æ–ª–µ–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–æ –º–æ–¥—É–ª—è–º

### üìö **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—á–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–æ):**

#### ‚úÖ **Students.tsx (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)**
- ‚úÖ –ò–º–ø–æ—Ä—Ç PermissionGuard
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è: `students:create`
- ‚ùì –õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –µ—â–µ –Ω–∞ —Ä–æ–ª—è—Ö (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)

#### ‚úÖ **Teachers.tsx (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)**  
- ‚úÖ –ò–º–ø–æ—Ä—Ç PermissionGuard
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞: `reports:read`
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —É—á–∏—Ç–µ–ª—è: `teachers:create`
- ‚ùì –õ–æ–≥–∏–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ –µ—â–µ –±–µ–∑ PermissionGuard

## üîÑ **–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:**

### üìÑ **–°—Ç—Ä–∞–Ω–∏—Ü—ã —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

#### ‚ùå **Lessons.tsx**
```typescript
// –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
import { PermissionGuard } from '../components/PermissionGuard';

// –û–±–µ—Ä–Ω—É—Ç—å –∫–Ω–æ–ø–∫–∏:
<PermissionGuard module="lessons" action="create">
  <CreateLessonButton />
</PermissionGuard>
```

#### ‚ùå **Homework.tsx**
```typescript
// –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏:
<PermissionGuard module="homework" action="create" scope="OWN">
  <SubmitHomeworkButton />
</PermissionGuard>
```

#### ‚ùå **Payments.tsx**
```typescript
// –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
<PermissionGuard module="payments" action="read" scope="ASSIGNED">
  <PaymentsList />
</PermissionGuard>
```

#### ‚ùå **Users.tsx (–µ—Å–ª–∏ –µ—Å—Ç—å)**
```typescript
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:
<PermissionGuard module="users" action="update">
  <EditUserButton />
</PermissionGuard>
```

### üîß **–î–µ–π—Å—Ç–≤–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:**

#### ‚ùå **–í Teachers.tsx - –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:**
```typescript
// –û–±–µ—Ä–Ω—É—Ç—å –∫–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è:
<PermissionGuard module="teachers" action="update">
  <EditButton />
</PermissionGuard>

<PermissionGuard module="teachers" action="delete">
  <DeleteButton />
</PermissionGuard>
```

#### ‚ùå **–í Students.tsx - –¥–µ—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞:**
```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
const { hasPermission } = useAuth();

if (hasPermission('students', 'read', { scope: 'OWN' })) {
  // –ü–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
} else if (hasPermission('students', 'read', { scope: 'GROUP' })) {
  // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã
}
```

## üéØ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ø–ª–∞–Ω –¥–æ—Ä–∞–±–æ—Ç–∫–∏:**

### üìã **–≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (1-2 –¥–Ω—è)**
1. **Lessons.tsx** - –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **Homework.tsx** - scope-based –¥–æ—Å—Ç—É–ø –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
3. **Payments.tsx** - –¥–æ—Å—Ç—É–ø —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∫ –ø–ª–∞—Ç–µ–∂–∞–º –¥–µ—Ç–µ–π

### üìã **–≠—Ç–∞–ø 2: –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è (2-3 –¥–Ω—è)**
1. **Students.tsx** - –∑–∞–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–æ–ª–µ–π –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
2. **Teachers.tsx** - –¥–æ–±–∞–≤–∏—Ç—å PermissionGuard –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
3. **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### üìã **–≠—Ç–∞–ø 3: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (1 –¥–µ–Ω—å)**
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–æ—Å—Ç—É–ø–∞
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## üìä **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

### ‚úÖ **Backend: 100% –≥–æ—Ç–æ–≤**
- 6 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- RBAC API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- –û–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### üîÑ **Frontend: 60% –≥–æ—Ç–æ–≤**
- ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (100%)
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è (100%) 
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (100%)
- üîÑ –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (30%)
- ‚ùå –î–µ—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (10%)

## üöÄ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–∂–µ —Å–µ–π—á–∞—Å:**

### ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏:**
1. **–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ù–∞–≤–∏–≥–∞—Ü–∏—è** - –ø–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏** - –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø
4. **API –∑–∞–ø—Ä–æ—Å—ã** - backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
5. **–ë–∞–∑–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤/—É—á–∏—Ç–µ–ª–µ–π

### ‚úÖ **–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:**
- –°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é, –∫ –∫–æ—Ç–æ—Ä—ã–º –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞" –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —É —Ç–µ—Ö, –∫—Ç–æ –º–æ–∂–µ—Ç
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–ª—è–º–∏ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é:**

### üéØ **–§–æ–∫—É—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –æ–ø—ã—Ç–µ:**
```typescript
// –í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–∫—Ä—ã—Ç–∏—è –∫–Ω–æ–ø–æ–∫, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—á–µ–º—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ:
<PermissionGuard 
  module="students" 
  action="create"
  fallback={<div>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</div>}
>
  <CreateButton />
</PermissionGuard>
```

### üéØ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:**
```typescript
// –ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π:
const { hasPermission } = useAuth();

// –í —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–µ:
{hasPermission('module', 'action', { scope: 'OWN' }) && <Component />}

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
<PermissionGuard module="module" action="action" scope="OWN">
  <Component />
</PermissionGuard>
```

## üèÜ **–ò—Ç–æ–≥:**

**RBAC —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ 60% –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!** 

–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞. –û—Å—Ç–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

**–°–∏—Å—Ç–µ–º–∞ —É–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏ –∑–∞—â–∏—â–µ–Ω—ã, –∞ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –º–æ–∂–Ω–æ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –±–µ–∑ breaking changes.
