# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è RBAC —Å–∏—Å—Ç–µ–º—ã

## üöÄ **3 –º–∏–Ω—É—Ç—ã –¥–æ –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏**

### 1. üîß **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 –º–∏–Ω—É—Ç–∞)**

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RBAC –¥–∞–Ω–Ω—ã—Ö
cd apps/backend
npm run ts-node scripts/init-rbac.ts

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞  
npm run ts-node scripts/create-admin-user.ts

# –ó–∞–ø—É—Å–∫ backend
npm run start:dev
```

```bash
# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ frontend
cd apps/frontend
npm run dev
```

---

### 2. üß™ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (2 –º–∏–Ω—É—Ç—ã)**

#### **A. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ admin@school.com / admin123
3. ‚úÖ –î–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é

#### **B. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏–¥–Ω–æ –í–°–ï –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é (–≤—ã –∞–¥–º–∏–Ω)
2. ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: –ì–ª–∞–≤–Ω–∞—è, –ù–æ–≤–æ—Å—Ç–∏, –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –£—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –°—Ç—É–¥–µ–Ω—Ç—ã, HR, –§–∏–Ω–∞–Ω—Å—ã, –ù–∞—Å—Ç—Ä–æ–π–∫–∏

#### **C. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü:**
- –û—Ç–∫—Ä–æ–π—Ç–µ `/students` ‚úÖ
- –û—Ç–∫—Ä–æ–π—Ç–µ `/teachers` ‚úÖ  
- –û—Ç–∫—Ä–æ–π—Ç–µ `/settings/users` ‚úÖ
- –û—Ç–∫—Ä–æ–π—Ç–µ `/settings/permissions` ‚úÖ (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å RBAC)

#### **D. –ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl
curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:3000/rbac/roles
curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:3000/students
```

---

### 3. üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞**

#### **‚úÖ –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (–Ω–µ 403/500)
- –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

#### **‚ùå –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:**

**–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é RBAC
npx prisma studio
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö: Role, Permission, RolePermission
```

**–ü—Ä–æ–±–ª–µ–º–∞: 403 –æ—à–∏–±–∫–∏ –≤ API**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT —Ç–æ–∫–µ–Ω
# –í DevTools ‚Üí Application ‚Üí Local Storage
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å token –∏ user
```

**–ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**  
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å frontend
npm run dev
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)
```

---

### 4. üîç **–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞**

#### **–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
# 1. –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cd apps/backend
npx prisma migrate reset --force
npx prisma generate

# 2. –†–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RBAC
npm run ts-node scripts/init-rbac.ts
npm run ts-node scripts/create-admin-user.ts

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ
npm run start:dev
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
```bash
# Backend –ª–æ–≥–∏ (–æ—à–∏–±–∫–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
# Frontend –ª–æ–≥–∏ (DevTools ‚Üí Console)
# Database (npx prisma studio)
```

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**

- [ ] Backend –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Frontend –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç  
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
- [ ] RBAC API –æ—Ç–≤–µ—á–∞–µ—Ç
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## üéâ **–ï—Å–ª–∏ –≤—Å—ë ‚úÖ - —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞!**

**–í–∞—à–∞ RBAC —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**

–î–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–æ—Ç—Ä–∏—Ç–µ [RBAC-TESTING-GUIDE.md](./RBAC-TESTING-GUIDE.md)

---

*–í—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 3 –º–∏–Ω—É—Ç—ã ‚è±Ô∏è*  
*–°—Ç–∞—Ç—É—Å: Production Ready ‚úÖ*
