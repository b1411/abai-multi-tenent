# –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤, —É—á–∏—Ç—ã–≤–∞—é—â–∞—è –∑–∞–º–µ—â–µ–Ω–∏—è –∏ –≥–∏–±–∫–∏–µ —Å—Ç–∞–≤–∫–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### TeacherSalaryRate - –°—Ç–∞–≤–∫–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
```prisma
model TeacherSalaryRate {
  id         Int      @id @default(autoincrement())
  teacherId  Int
  teacher    Teacher  @relation(fields: [teacherId], references: [id])
  baseRate   Int      // –±–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ –≤ —Ç–µ–Ω–≥–µ –∑–∞ —á–∞—Å
  factors    Json     // [{name: "–ó–∞ –æ–ø—ã—Ç", amount: 2000}]
  totalRate  Int      // –∏—Ç–æ–≥–æ–≤–∞—è –ø–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞
  isActive   Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  deletedAt  DateTime?
}
```

#### TeacherWorkedHours - –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
```prisma
model TeacherWorkedHours {
  id              Int      @id @default(autoincrement())
  teacherId       Int
  teacher         Teacher  @relation(fields: [teacherId], references: [id])
  month           Int      // 1-12
  year            Int
  scheduledHours  Int      // –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—ã –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  workedHours     Int      // —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã (—Å —É—á–µ—Ç–æ–º –∑–∞–º–µ—â–µ–Ω–∏–π)
  substitutedHours Int     @default(0) // —á–∞—Å—ã –∑–∞–º–µ—â–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö
  substitutedByOthers Int  @default(0) // —á–∞—Å—ã, –∑–∞–º–µ—â–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–∏–º–∏
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}
```

### 2. API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∞–º–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
```
POST   /teachers/:id/salary-rate         - –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É
GET    /teachers/:id/salary-rate         - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç–∞–≤–∫—É
GET    /teachers/:id/salary-rate/history - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫
PATCH  /teachers/salary-rate/:rateId     - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–≤–∫—É
```

#### –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
```
GET    /teachers/:id/worked-hours/:year/:month - –ß–∞—Å—ã –∑–∞ –º–µ—Å—è—Ü
GET    /teachers/:id/worked-hours/:year        - –ß–∞—Å—ã –∑–∞ –≥–æ–¥
GET    /teachers/:id/worked-hours-stats/:year  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Å–∞–º
POST   /teachers/:id/calculate-worked-hours/:year/:month - –ü–µ—Ä–µ—Å—á–µ—Ç —á–∞—Å–æ–≤
```

#### –†–∞—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç
```
POST   /payroll/recalculate               - –ü–µ—Ä–µ—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç (–æ—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
GET    /payroll/summary/:year/:month      - –°–≤–æ–¥–∫–∞ –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–∞–º
POST   /payroll/recalculate-worked-hours/:year/:month - –ü–µ—Ä–µ—Å—á–µ—Ç —á–∞—Å–æ–≤ –≤—Å–µ—Ö
GET    /payroll/worked-hours/:year/:month - –ß–∞—Å—ã –≤—Å–µ—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
GET    /payroll/details/:teacherId/:year/:month - –î–µ—Ç–∞–ª–∏ –∑–∞—Ä–ø–ª–∞—Ç—ã
```

#### –°–∏—Å—Ç–µ–º–∞ –∑–∞–º–µ—â–µ–Ω–∏–π
```
POST   /substitutions                     - –ù–∞–∑–Ω–∞—á–∏—Ç—å –∑–∞–º–µ—â–µ–Ω–∏–µ
DELETE /substitutions/:scheduleId         - –£–±—Ä–∞—Ç—å –∑–∞–º–µ—â–µ–Ω–∏–µ
GET    /substitutions/available-teachers  - –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–º–µ—â–∞—é—â–∏–µ
GET    /substitutions/check-availability/:teacherId - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
GET    /substitutions                     - –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—â–µ–Ω–∏–π
GET    /substitutions/stats               - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–º–µ—â–µ–Ω–∏–π
```

### 3. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

#### –†–∞—Å—á–µ—Ç —Å—Ç–∞–≤–∫–∏
1. **–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞** - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞
2. **–§–∞–∫—Ç–æ—Ä—ã** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–¥–±–∞–≤–∫–∏:
   - –ó–∞ –æ–ø—ã—Ç: 2000 —Ç–µ–Ω–≥–µ/—á–∞—Å
   - –ó–∞ –æ–ø—ã—Ç –≤ –∞–∫–∞–¥–µ–º–∏–∏: 3000 —Ç–µ–Ω–≥–µ/—á–∞—Å
   - –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
3. **–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞** = –ë–∞–∑–æ–≤–∞—è + —Å—É–º–º–∞ –≤—Å–µ—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤

#### –†–∞—Å—á–µ—Ç –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤
1. –ë–µ—Ä—É—Ç—Å—è –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–∑ Schedule –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü
2. –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è (status: 'COMPLETED')
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è:
   - **scheduledHours** - –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—ã (teacherId = –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å)
   - **workedHours** - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
   - **substitutedHours** - —á–∞—Å—ã –∑–∞–º–µ—â–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö (substituteId = –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å)
   - **substitutedByOthers** - —á–∞—Å—ã, –∑–∞–º–µ—â–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–∏–º–∏ (substituteId != null)

#### –†–∞—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã
**–ë–∞–∑–æ–≤–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞** = workedHours √ó totalRate
**–ò—Ç–æ–≥–æ–≤–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞** = –ë–∞–∑–æ–≤–∞—è + –±–æ–Ω—É—Å—ã - —É–¥–µ—Ä–∂–∞–Ω–∏—è

#### –°–∏—Å—Ç–µ–º–∞ –∑–∞–º–µ—â–µ–Ω–∏–π
1. –ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∑–∞–º–µ—â–µ–Ω–∏—è:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∑–∞–º–µ—â–∞—é—â–µ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
   - Schedule.substituteId —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∑–∞–º–µ—â–∞—é—â–µ–≥–æ
   - Schedule.type –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ 'SUBSTITUTE'
2. –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —á–∞—Å–æ–≤:
   - –ß–∞—Å—ã –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –æ—Ç –∑–∞–º–µ—â–∞–µ–º–æ–≥–æ –∫ –∑–∞–º–µ—â–∞—é—â–µ–º—É
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–º–µ—â–µ–Ω–∏–π

### 4. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
```json
POST /teachers/1/salary-rate
{
  "baseRate": 1500,
  "factors": [
    {"name": "–ó–∞ –æ–ø—ã—Ç", "amount": 2000},
    {"name": "–ó–∞ –æ–ø—ã—Ç –≤ –∞–∫–∞–¥–µ–º–∏–∏", "amount": 3000},
    {"name": "–ó–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é", "amount": 1000}
  ]
}
```

#### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–º–µ—â–µ–Ω–∏—è
```json
POST /substitutions
{
  "scheduleId": "uuid-schedule-id",
  "substituteTeacherId": 2,
  "reason": "–ë–æ–ª–µ–∑–Ω—å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è"
}
```

#### –ü–µ—Ä–µ—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç
```json
POST /payroll/recalculate
{
  "month": 12,
  "year": 2024
}
```

### 5. Workflow —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞–≤–æ–∫** - –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å—Ç–∞–≤–∫–∞
2. **–í–µ–¥–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è** - –∑–∞–Ω—è—Ç–∏—è –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—â–µ–Ω–∏—è–º–∏** - –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –∑–∞–º–µ—â–∞—é—â–∏–µ
4. **–ü–µ—Ä–µ—Å—á–µ—Ç —á–∞—Å–æ–≤** - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
5. **–ü–µ—Ä–µ—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç** - –Ω–∞ –æ—Å–Ω–æ–≤–µ —á–∞—Å–æ–≤ –∏ —Å—Ç–∞–≤–æ–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞
6. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–¥–±–∞–≤–∫–∏/—É–¥–µ—Ä–∂–∞–Ω–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç
7. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** - —Ñ–∏–Ω–∞–Ω—Å–∏—Å—Ç/–∞–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—É

### 6. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- **ADMIN, HR** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- **FINANCIST** - –¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å—á–µ—Ç–∞–º –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é –≤—ã–ø–ª–∞—Ç
- **TEACHER** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–º–µ—â–µ–Ω–∏–π –¥–ª—è —Å–≤–æ–∏—Ö –∑–∞–Ω—è—Ç–∏–π

### 7. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç** - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏–ª–∏ —Å—Ç–∞–≤–æ–∫
2. **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å —Å—Ç–∞–≤–æ–∫** - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞–≤–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
3. **–ì–∏–±–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª—é–±—ã—Ö –Ω–∞–¥–±–∞–≤–æ–∫ –∫ —Å—Ç–∞–≤–∫–µ
4. **–£—á–µ—Ç –∑–∞–º–µ—â–µ–Ω–∏–π** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å —á–∞—Å–æ–≤ –º–µ–∂–¥—É –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏
5. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
6. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

### 8. –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞:

#### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º:
- ‚úÖ –ó–∞—Ä–ø–ª–∞—Ç–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞
- ‚úÖ –ó–∞—Ä–ø–ª–∞—Ç–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- ‚úÖ –ó–∞—Ä–ø–ª–∞—Ç–∞ –≤—ã–ø–ª–∞—á–µ–Ω–∞
- ‚úÖ –ó–∞—Ä–ø–ª–∞—Ç–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ (—Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã)
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–æ –∑–∞–º–µ—â–µ–Ω–∏–µ

#### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–∏—Å—Ç–∞–º/–∞–¥–º–∏–Ω–∞–º:
- ‚úÖ –ù–æ–≤—ã–µ –∑–∞—Ä–ø–ª–∞—Ç—ã –æ–∂–∏–¥–∞—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚úÖ –ú–∞—Å—Å–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω
- ‚úÖ –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–±–æ–ª–µ–µ 7 –¥–Ω–µ–π)

### 9. Workflow –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–ø–ª–∞—Ç

#### –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è workflow:
```
GET    /salaries/pending-approvals    - –ó–∞—Ä–ø–ª–∞—Ç—ã –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
GET    /salaries/approved             - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –∑–∞—Ä–ø–ª–∞—Ç—ã
GET    /salaries/:id/workflow         - –î–µ—Ç–∞–ª–∏ workflow –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞—Ä–ø–ª–∞—Ç—ã
PATCH  /salaries/:id/adjustments      - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–±–∞–≤–∫–∏/—É–¥–µ—Ä–∂–∞–Ω–∏—è
POST   /salaries/:id/reject           - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É
```

#### –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
1. **DRAFT** ‚Üí **APPROVED** ‚Üí **PAID**
2. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã
3. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–¥–±–∞–≤–æ–∫ –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–π –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### 10. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–¥–±–∞–≤–æ–∫ –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–π
```json
PATCH /salaries/123/adjustments
{
  "bonuses": [
    {"name": "–ü—Ä–µ–º–∏—è –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ", "amount": 50000, "comment": "–ó–∞ –æ—Ç–ª–∏—á–Ω—É—é —Ä–∞–±–æ—Ç—É"}
  ],
  "deductions": [
    {"name": "–ê–≤–∞–Ω—Å", "amount": 100000, "comment": "–í—ã–¥–∞–Ω 15 —á–∏—Å–ª–∞"}
  ],
  "comment": "–°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ —Ñ–∏–Ω–∞–Ω—Å–∏—Å—Ç–æ–º"
}
```

#### –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è—Ö

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

‚úÖ –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚úÖ –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞–≤–∫–∞–º–∏
‚úÖ –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤
‚úÖ –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç
‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞–º–µ—â–µ–Ω–∏–π
‚úÖ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –∑–∞—Ä–ø–ª–∞—Ç
‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –≤—ã–ø–ª–∞—Ç (workflow)
‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–¥–±–∞–≤–æ–∫ –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–π
‚úÖ –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
üîÑ Frontend –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

## –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∞–º–∏
```
POST   /teachers/:id/salary-rate         - –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É
GET    /teachers/:id/salary-rate         - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç–∞–≤–∫—É
GET    /teachers/:id/salary-rate/history - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫
PATCH  /teachers/salary-rate/:rateId     - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–≤–∫—É
```

### –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
```
GET    /teachers/:id/worked-hours/:year/:month      - –ß–∞—Å—ã –∑–∞ –º–µ—Å—è—Ü
GET    /teachers/:id/worked-hours/:year             - –ß–∞—Å—ã –∑–∞ –≥–æ–¥
GET    /teachers/:id/worked-hours-stats/:year       - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Å–∞–º
POST   /teachers/:id/calculate-worked-hours/:year/:month - –ü–µ—Ä–µ—Å—á–µ—Ç —á–∞—Å–æ–≤
```

### –†–∞—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç
```
POST   /payroll/recalculate                         - –ü–µ—Ä–µ—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç (–≥–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
GET    /payroll/summary/:year/:month                - –°–≤–æ–¥–∫–∞ –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–∞–º
POST   /payroll/recalculate-worked-hours/:year/:month - –ü–µ—Ä–µ—Å—á–µ—Ç —á–∞—Å–æ–≤ –≤—Å–µ—Ö
GET    /payroll/worked-hours/:year/:month           - –ß–∞—Å—ã –≤—Å–µ—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
GET    /payroll/details/:teacherId/:year/:month     - –î–µ—Ç–∞–ª–∏ –∑–∞—Ä–ø–ª–∞—Ç—ã
```

### –°–∏—Å—Ç–µ–º–∞ –∑–∞–º–µ—â–µ–Ω–∏–π
```
POST   /substitutions                               - –ù–∞–∑–Ω–∞—á–∏—Ç—å –∑–∞–º–µ—â–µ–Ω–∏–µ
DELETE /substitutions/:scheduleId                   - –£–±—Ä–∞—Ç—å –∑–∞–º–µ—â–µ–Ω–∏–µ
GET    /substitutions/available-teachers            - –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–º–µ—â–∞—é—â–∏–µ
GET    /substitutions/check-availability/:teacherId - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
GET    /substitutions                               - –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—â–µ–Ω–∏–π
GET    /substitutions/stats                         - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–º–µ—â–µ–Ω–∏–π
```

### Workflow –∑–∞—Ä–ø–ª–∞—Ç
```
GET    /salaries/pending-approvals                  - –ó–∞—Ä–ø–ª–∞—Ç—ã –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
GET    /salaries/approved                           - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –∑–∞—Ä–ø–ª–∞—Ç—ã
GET    /salaries/:id/workflow                       - –î–µ—Ç–∞–ª–∏ workflow
PATCH  /salaries/:id/adjustments                    - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–±–∞–≤–∫–∏/—É–¥–µ—Ä–∂–∞–Ω–∏—è
POST   /salaries/:id/approve                        - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É
POST   /salaries/:id/reject                         - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É
POST   /salaries/:id/mark-paid                      - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–ª–∞—á–µ–Ω–Ω—É—é
```

## –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –í—Å–µ backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ frontend –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
