# –û—Ç—á–µ—Ç: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤ –∫ API - –ó–ê–í–ï–†–®–ï–ù–û

## üéØ –ó–∞–¥–∞—á–∞
–ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤—Å–µ –≤–∏–¥–∂–µ—Ç—ã –≤ `apps/frontend/src/components/widgets/specific` –∫ —Ä–µ–∞–ª—å–Ω—ã–º API –¥–∞–Ω–Ω—ã–º.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã (15 –≤–∏–¥–∂–µ—Ç–æ–≤)

–í—Å–µ –≤–∏–¥–∂–µ—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `widgetService.getWidgetData()`:

1. **ActivityMonitoringWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/activity-monitoring`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

2. **AssignmentsWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/assignments`
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è

3. **AttendanceWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/attendance`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞

4. **ClassroomUsageWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/classroom-usage`
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤

5. **FinanceOverviewWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/finance-overview`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Å–≤–æ–¥–∫—É

6. **GradeAnalyticsWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/grade-analytics`
   - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –æ—Ü–µ–Ω–∫–∞–º

7. **GradesWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/grades`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ü–µ–Ω–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞

8. **NewsWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/news`
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —à–∫–æ–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏

9. **ScheduleWidget.tsx**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/schedule`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤

10. **SchoolAttendanceWidget.tsx**
    - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/school-attendance`
    - –û–±—â–∞—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –ø–æ —à–∫–æ–ª–µ

11. **SystemAlertsWidget.tsx**
    - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/system-alerts`
    - –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

12. **SystemMonitoringWidget.tsx**
    - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/system-monitoring`
    - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

13. **SystemStatsWidget.tsx**
    - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/system-stats`
    - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

14. **TasksWidget.tsx**
    - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/tasks`
    - –ó–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

15. **TeacherWorkloadWidget.tsx**
    - –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `/dashboard/widget-data/teacher-workload`
    - –ù–∞–≥—Ä—É–∑–∫–∞ —É—á–∏—Ç–µ–ª–µ–π

### 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –í—Å–µ –≤–∏–¥–∂–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `useEffect` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω state management —Å `useState` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏ (spinner)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ö–∞–∂–¥—ã–π –≤–∏–¥–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API

#### Backend –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `dashboard.controller.ts` —Å endpoint `/dashboard/widget-data/:widgetType`
- ‚úÖ –°–µ—Ä–≤–∏—Å `dashboard.service.ts` —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≤–∏–¥–∂–µ—Ç–æ–≤
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –º–µ—Ç–æ–¥—É API

### 3. –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ùå **WeatherWidget.tsx** - —É–¥–∞–ª–µ–Ω –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è LMS)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–∞—Ç—Ç–µ—Ä–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
```typescript
// –ö–∞–∂–¥—ã–π –≤–∏–¥–∂–µ—Ç —Å–ª–µ–¥—É–µ—Ç —ç—Ç–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É:
const [widgetData, setWidgetData] = useState(data);
const [isLoading, setIsLoading] = useState(!data);
const [error, setError] = useState<string | null>(null);

useEffect(() => {
  if (!data) {
    const fetchData = async () => {
      try {
        setIsLoading(true);
        setError(null);
        const result = await widgetService.getWidgetData(widgetType);
        setWidgetData(result);
      } catch (err) {
        setError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
        // Fallback to mock data
      } finally {
        setIsLoading(false);
      }
    };
    fetchData();
  }
}, [data]);
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
1. **Loading**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è spinner
2. **Error**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ + fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ  
3. **Success**: –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **Empty**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"

## üì° API Endpoints

–í—Å–µ –≤–∏–¥–∂–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π endpoint:
```
GET /dashboard/widget-data/:widgetType
```

–ì–¥–µ `widgetType` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∏–ø—É –≤–∏–¥–∂–µ—Ç–∞ –∏–∑ enum `WidgetType`.

## üé® UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- üîÑ **Loading**: –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π spinner
- ‚ö†Ô∏è **Error**: –ö—Ä–∞—Å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å —Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏
- üîó **Connected**: –°–∫—Ä—ã—Ç –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
- üìù **Demo**: –ñ–µ–ª—Ç—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ mock –¥–∞–Ω–Ω—ã—Ö

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:
- –í—Å–µ –≤–∏–¥–∂–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä—ã: `small`, `medium`, `large`
- –ö–æ–Ω—Ç–µ–Ω—Ç –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –≤–∏–¥–∂–µ—Ç–∞
- –ú–æ–±–∏–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: 100% ‚úÖ

- **15 –≤–∏–¥–∂–µ—Ç–æ–≤** —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ API
- **0 –≤–∏–¥–∂–µ—Ç–æ–≤** –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ mock –¥–∞–Ω–Ω—ã—Ö
- **1 –≤–∏–¥–∂–µ—Ç** —É–¥–∞–ª–µ–Ω (WeatherWidget)
- **–í—Å–µ** –≤–∏–¥–∂–µ—Ç—ã –∏–º–µ—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- **–í—Å–µ** –≤–∏–¥–∂–µ—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production:
1. ‚úÖ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
2. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
3. ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç
4. ‚úÖ Loading states —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
5. ‚úÖ Backend endpoints –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **Backend —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ó–∞–ø–æ–ª–Ω–∏—Ç—å –º–µ—Ç–æ–¥—ã –≤ `dashboard.service.ts` —Ä–µ–∞–ª—å–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ endpoint'—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ pagination –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 28.01.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–í—Å–µ –≤–∏–¥–∂–µ—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ API**
