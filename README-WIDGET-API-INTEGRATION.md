# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤ —Å API

## –û–±–∑–æ—Ä

–£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –≤–∏–¥–∂–µ—Ç—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `apps/frontend/src/components/widgets/specific` –∫ API –±—ç–∫–µ–Ω–¥–∞. –í–∏–¥–∂–µ—Ç—ã —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—ã–µ API endpoints, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

## –ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã

### 1. ActivityMonitoringWidget
- **Endpoint**: `/dashboard/widget-data/activity-monitoring`
- **–î–∞–Ω–Ω—ã–µ**: –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: Live –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

### 2. AssignmentsWidget  
- **Endpoint**: `/dashboard/widget-data/assignments`
- **–î–∞–Ω–Ω—ã–µ**: –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É, –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π

### 3. AttendanceWidget
- **Endpoint**: `/dashboard/widget-data/attendance`
- **–î–∞–Ω–Ω—ã–µ**: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, —Ç—Ä–µ–Ω–¥—ã

### 4. ClassroomUsageWidget
- **Endpoint**: `/dashboard/widget-data/classroom-usage`
- **–î–∞–Ω–Ω—ã–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏–π
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —ç—Ç–∞–∂–∞–º

### 5. FinanceOverviewWidget
- **Endpoint**: `/dashboard/widget-data/finance-overview`
- **–î–∞–Ω–Ω—ã–µ**: –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–≤–æ–¥–∫–∞, –¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç, –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Ä–æ—Å—Ç–∞

### 6. GradeAnalyticsWidget
- **Endpoint**: `/dashboard/widget-data/grade-analytics`
- **–î–∞–Ω–Ω—ã–µ**: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ—Ü–µ–Ω–æ–∫, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, —Ç–æ–ø –ø—Ä–µ–¥–º–µ—Ç—ã
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### 7. GradesWidget
- **Endpoint**: `/dashboard/widget-data/grades`
- **–î–∞–Ω–Ω—ã–µ**: –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏, —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è, —Ç—Ä–µ–Ω–¥—ã

### 8. NewsWidget
- **Endpoint**: `/dashboard/widget-data/news`
- **–î–∞–Ω–Ω—ã–µ**: –ù–æ–≤–æ—Å—Ç–∏ —à–∫–æ–ª—ã, –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### 9. ScheduleWidget
- **Endpoint**: `/dashboard/widget-data/schedule`
- **–î–∞–Ω–Ω—ã–µ**: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–±–∏–Ω–µ—Ç–∞—Ö –∏ —É—á–∏—Ç–µ–ª—è—Ö

### 10. SchoolAttendanceWidget
- **Endpoint**: `/dashboard/widget-data/school-attendance`
- **–î–∞–Ω–Ω—ã–µ**: –û–±—â–∞—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å —à–∫–æ–ª—ã
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º, –Ω–µ–¥–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã

### 11. SystemAlertsWidget
- **Endpoint**: `/dashboard/widget-data/system-alerts`
- **–î–∞–Ω–Ω—ã–µ**: –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º

### 12. SystemMonitoringWidget
- **Endpoint**: `/dashboard/widget-data/system-monitoring`
- **–î–∞–Ω–Ω—ã–µ**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, —Å—Ç–∞—Ç—É—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤

### 13. SystemStatsWidget
- **Endpoint**: `/dashboard/widget-data/system-stats`
- **–î–∞–Ω–Ω—ã–µ**: –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏, uptime

### 14. TasksWidget
- **Endpoint**: `/dashboard/widget-data/tasks`
- **–î–∞–Ω–Ω—ã–µ**: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### 15. TeacherWorkloadWidget
- **Endpoint**: `/dashboard/widget-data/teacher-workload`
- **–î–∞–Ω–Ω—ã–µ**: –ù–∞–≥—Ä—É–∑–∫–∞ —É—á–∏—Ç–µ–ª–µ–π
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

### 16. WeatherWidget
- **Endpoint**: `/dashboard/widget-data/weather`
- **–î–∞–Ω–Ω—ã–µ**: –ü–æ–≥–æ–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ü—Ä–æ–≥–Ω–æ–∑, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API

### Backend Controller
```typescript
// apps/backend/src/dashboard/dashboard.controller.ts
@Get('widget-data/:widgetType')
async getWidgetData(
  @Param('widgetType') widgetType: string,
  @Query() query: any,
  @Req() req: any
) {
  return this.dashboardService.getWidgetData(widgetType, query, req.user);
}
```

### Backend Service
```typescript
// apps/backend/src/dashboard/dashboard.service.ts
async getWidgetData(widgetType: string, params: any, user: any) {
  // –†–æ—É—Ç–∏–Ω–≥ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–µ—Ä–≤–∏—Å–∞–º
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤–∏–¥–∂–µ—Ç–æ–≤
  // –í–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
}
```

### Frontend Service
```typescript
// apps/frontend/src/services/widgetService.ts
async getWidgetData(widgetType: WidgetType, config?: any): Promise<any> {
  try {
    const url = config ? 
      `/dashboard/widget-data/${widgetType}?${new URLSearchParams(config)}` : 
      `/dashboard/widget-data/${widgetType}`;
    const response = await apiClient.get(url);
    return response;
  } catch (error) {
    console.error(`Error fetching data for widget ${widgetType}:`, error);
    // Return mock data as fallback
    return this.getMockWidgetData(widgetType);
  }
}
```

## Fallback –º–µ—Ö–∞–Ω–∏–∑–º

–ö–∞–∂–¥—ã–π –≤–∏–¥–∂–µ—Ç –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ:
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å API
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞
- –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

Mock –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `getMockWidgetData()` –º–µ—Ç–æ–¥–µ —Å–µ—Ä–≤–∏—Å–∞.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –î–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ç—å
- Lazy loading –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤–∏–¥–∂–µ—Ç—ã –∫ API
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å endpoint —Ä–æ—É—Ç–∏–Ω–≥
4. üîÑ –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ —Å–µ—Ä–≤–∏—Å—ã
5. üîÑ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
6. üîÑ –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
7. üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–í–∏–¥–∂–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –≤–∏–¥–∂–µ—Ç–∞
const [data, setData] = useState(null);

useEffect(() => {
  const fetchData = async () => {
    const widgetData = await widgetService.getWidgetData(widget.type, config);
    setData(widgetData);
  };
  
  fetchData();
}, [widget.type, config]);
```

## –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏:
```typescript
// –í –±—Ä–∞—É–∑–µ—Ä–µ
localStorage.setItem('DEBUG', 'widget:*');
```

–í—Å–µ –æ—à–∏–±–∫–∏ API –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
