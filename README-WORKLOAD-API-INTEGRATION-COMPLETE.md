# –ó–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã Workload ‚úÖ

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ `TeachersController` - —ç–Ω–¥–ø–æ–∏–Ω—Ç `@Get('worked-hours')` –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª —Å `@Get(':id')`
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤—ã—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –¢–µ–ø–µ—Ä—å `GET /teachers/worked-hours` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã Prisma –∑–∞–ø—Ä–æ—Å—ã
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Prisma –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å—ã
- **–†–µ—à–µ–Ω–∏–µ**: –Ø–≤–Ω–æ —É–∫–∞–∑–∞–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –æ–±—ä–µ–∫—Ç–∞—Ö `where` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `teacherId: teacherId` –≤–º–µ—Å—Ç–æ `teacherId`)
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
  - `getWorkedHours()`
  - `getWorkedHoursByYear()`
  - `getAllTeachersWorkedHours()`
  - `recalculateAllForMonth()`

### 3. –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
- –í—Å–µ fetch –∑–∞–ø—Ä–æ—Å—ã –≤ `Workload.tsx` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `workloadService`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è `WorkloadAnalytics`
- –ü–æ–¥–∫–ª—é—á–µ–Ω —Å–ª–æ–∂–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ —á–∞—Å–æ–≤ –∏–∑ `teacher-worked-hours.service.ts`

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å–ª–æ–∂–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º —Ä–∞—Å—á–µ—Ç–∞
–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π (–æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –∏ –∑–∞–º–µ—â–µ–Ω–∏—è)
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –æ—Ç–ø—É—Å–∫  
- ‚úÖ –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–Ω—è—Ç–∏—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞—Ç—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—ã –∏ –∑–∞–º–µ—â–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–Ω—è—Ç–∏–π (–∑–∞–≤–µ—Ä—à–µ–Ω–æ, –æ—Ç–º–µ–Ω–µ–Ω–æ, –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ)

## –î–æ—Å—Ç—É–ø–Ω—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–∞–≥—Ä—É–∑–∫–∏
- `GET /workload` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `GET /workload/analytics` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –Ω–∞–≥—Ä—É–∑–∫–∞–º
- `POST /workload/recalculate-all` - –ø–µ—Ä–µ—Å—á–µ—Ç –≤—Å–µ—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
- `POST /workload/sync-teacher-hours` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–∞—Å–æ–≤ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤
- `GET /teachers/worked-hours` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤ –≤—Å–µ—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- `GET /teachers/:id/worked-hours/details` - –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
- `POST /teachers/:id/calculate-worked-hours/:year/:month` - —Ä–∞—Å—á–µ—Ç —á–∞—Å–æ–≤ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã Workload

### üîÑ –î–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–≥—Ä—É–∑–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏–∑ API
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º –∏ –≥—Ä—É–ø–ø–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–î–∏–∞–≥—Ä–∞–º–º–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π**: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Å–æ–≤
- **–ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤**: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º
- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞**: —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π —Å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏

### üéØ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤: –≥–æ–¥/—á–µ—Ç–≤–µ—Ä—Ç—å/–º–µ—Å—è—Ü
- –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel

### üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- Responsive layout –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –£–¥–æ–±–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ —á–∞—Å–æ–≤

### –¢–∏–ø—ã —á–∞—Å–æ–≤
1. **–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—ã** (`standardHours`) - –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
2. **–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã** (`actualHours`) - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è
3. **–ß–∞—Å—ã –∑–∞–º–µ—â–µ–Ω–∏–π** (`substitutedHours`) - –∫–æ–≥–¥–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∑–∞–º–µ—â–∞–ª –¥—Ä—É–≥–æ–≥–æ
4. **–ó–∞–º–µ—â–µ–Ω–æ –¥—Ä—É–≥–∏–º–∏** (`substitutedByOthers`) - –∫–æ–≥–¥–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –∑–∞–º–µ—â–∞–ª–∏

### –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
- ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–Ω—è—Ç–∏—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞—Ç—ã
- ‚úÖ –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã: `COMPLETED`, `SCHEDULED`, `CANCELLED`, `RESCHEDULED`
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç–ø—É—Å–∫–∞ —Å –∑–∞–º–µ—â–µ–Ω–∏—è–º–∏
- ‚úÖ –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å —É—á–µ—Ç–æ–º —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### TeacherWorkload
```typescript
interface TeacherWorkload {
  id: number;
  teacher: {
    user: {
      name: string;
      surname: string;
    }
  };
  standardHours: number;  // –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —á–∞—Å—ã
  actualHours: number;    // –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã
  monthlyHours: Array<{   // –ü–æ –º–µ—Å—è—Ü–∞–º
    month: number;
    standardHours: number;
    actualHours: number;
  }>;
  quarterlyHours: Array<{ // –ü–æ —á–µ—Ç–≤–µ—Ä—Ç—è–º
    quarter: number;
    standardHours: number;
    actualHours: number;
  }>;
  subjectWorkloads: Array<{
    subjectName: string;
    hours: number;
    studyPlan?: {
      name: string;
    }
  }>;
  additionalActivities: Array<{
    name: string;
    hours: number;
    description?: string;
  }>;
  vacationDays: number;
  sickLeaveDays: number;
  dailyHours?: Array<{
    date: Date;
    hours: number;
    type: WorkloadType;
    comment?: string;
  }>;
}
```

### WorkloadAnalytics
```typescript
interface WorkloadAnalytics {
  totalTeachers: number;
  averageWorkload: number;
  totalHours: number;
  subjectDistribution: Array<{
    name: string;
    hours: number;
  }>;
}
```

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

- ‚úÖ **–ë—ç–∫–µ–Ω–¥ API**: –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ API  
- ‚úÖ **–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞**: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –ª–æ–≥–∏–∫–∞ —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –Ω—é–∞–Ω—Å–æ–≤
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: Responsive –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö  
3. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

---

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ Workload –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!** üéâ
