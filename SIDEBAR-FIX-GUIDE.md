# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Sidebar - –ø–æ–¥—Å–µ–∫—Ü–∏–∏ –Ω–µ –≤—ã–ø–∞–¥–∞—é—Ç

## üêõ **–ü—Ä–æ–±–ª–µ–º–∞:**
–ü–æ–¥—Å–µ–∫—Ü–∏–∏ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–µ –≤—ã–ø–∞–¥–∞–ª–∏ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –ª–æ–≥–∏–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ RBAC —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.

## ‚úÖ **–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### 1. üîç **–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const hasAccessibleChildren = (item: any) => {
  if (!item.children) return false;
  return item.children.some((child: any) => hasAccess(child));
};

// –£–ª—É—á—à–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const filteredItems = navigationItems.filter(item => {
  if (item.href) {
    return hasAccess(item);
  }
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–æ–¥–∏—Ç–µ–ª—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –ò –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ—Ç–∏
  if (item.children) {
    return hasAccess(item) && hasAccessibleChildren(item);
  }
  
  return hasAccess(item);
});
```

### 2. üõ°Ô∏è **–î–æ–±–∞–≤–ª–µ–Ω—ã fallbackRoles –¥–ª—è –≤—Å–µ—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤**

#### **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –ß–∞—Ç, AI —á–∞—Ç, –ö–∞–ª–µ–Ω–¥–∞—Ä—å, –ó–∞–¥–∞—á–∏ - `['ADMIN', 'TEACHER', 'STUDENT', 'PARENT']`
- Fizmat AI Ala - `['ADMIN', 'TEACHER']`

#### **–£—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
- –ü–ª–∞–Ω—ã, –£—Ä–æ–∫–∏, –î–ó - `['ADMIN', 'TEACHER', 'STUDENT']`
- –ñ—É—Ä–Ω–∞–ª, –ê—É–¥–∏—Ç–æ—Ä–∏–∏, –û—Ç—á–µ—Ç—ã - `['ADMIN', 'TEACHER']`
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ - `['ADMIN', 'TEACHER', 'STUDENT']`

#### **–°—Ç—É–¥–µ–Ω—Ç—ã:**
- –°–ø–∏—Å–∫–∏ - `['ADMIN', 'TEACHER', 'HR', 'STUDENT', 'PARENT']`
- –ì—Ä—É–ø–ø—ã, –£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å - `['ADMIN', 'TEACHER', 'HR']`

#### **HR:**
- –í—Å–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã - `['ADMIN', 'HR']`

#### **–§–∏–Ω–∞–Ω—Å—ã:**
- –û–ø–ª–∞—Ç—ã - `['ADMIN', 'FINANCIST', 'PARENT']`
- –û—Ç—á–µ—Ç—ã, –ë—é–¥–∂–µ—Ç, –õ–æ—è–ª—å–Ω–æ—Å—Ç—å, –ó–∞—Ä–ø–ª–∞—Ç–∞ - `['ADMIN', 'FINANCIST']`

#### **ERP:**
- –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è, –°–Ω–∞–±–∂–µ–Ω–∏–µ - `['ADMIN', 'HR']`
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - `['ADMIN']`

#### **–≠–î–û:**
- –î–æ–∫—É–º–µ–Ω—Ç—ã - `['ADMIN', 'HR', 'TEACHER']`
- –°–æ–∑–¥–∞–Ω–∏–µ - `['ADMIN', 'HR']`

#### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- –í—Å–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã - `['ADMIN']`

### 3. üîÑ **–£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è hasAccess**
```typescript
const hasAccess = (item: any) => {
  // 1. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: RBAC —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
  if (item.permission) {
    const hasPermissionAccess = hasPermission(item.permission.module, item.permission.action);
    if (hasPermissionAccess) return true;
  }
  
  // 2. –§–æ–ª–ª–±—ç–∫: —Ä–æ–ª–∏
  if (item.fallbackRoles) {
    return hasAnyRole(item.fallbackRoles as User['role'][]);
  }
  
  // 3. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
  if (!item.permission && !item.fallbackRoles && user) {
    return true;
  }
  
  return false;
};
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### ‚úÖ **–ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. **–ü–æ–¥—Å–µ–∫—Ü–∏–∏ –≤—ã–ø–∞–¥–∞—é—Ç** –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - fallback –Ω–∞ —Ä–æ–ª–∏ –µ—Å–ª–∏ –Ω–µ—Ç RBAC —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
4. **–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - —Å–Ω–∞—á–∞–ª–∞ RBAC, –ø–æ—Ç–æ–º —Ä–æ–ª–∏

### üé≠ **–ü—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Ä–æ–ª—è–º:**

#### **üë®‚Äçüíº –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç:**
- ‚úÖ –í–°–ï —Ä–∞–∑–¥–µ–ª—ã –∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

#### **üë®‚Äçüè´ –£—á–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –ß–∞—Ç, AI —á–∞—Ç, –ö–∞–ª–µ–Ω–¥–∞—Ä—å, –ó–∞–¥–∞—á–∏, AI Ala
- ‚úÖ –£—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å ‚Üí –í–°–ï –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã  
- ‚úÖ –°—Ç—É–¥–µ–Ω—Ç—ã ‚Üí –°–ø–∏—Å–∫–∏, –ì—Ä—É–ø–ø—ã, –£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å
- ‚úÖ –≠–î–û ‚Üí –î–æ–∫—É–º–µ–Ω—Ç—ã (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)
- ‚ùå HR —Å–µ–∫—Ü–∏–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∏

#### **üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –ß–∞—Ç, AI —á–∞—Ç, –ö–∞–ª–µ–Ω–¥–∞—Ä—å, –ó–∞–¥–∞—á–∏
- ‚úÖ –£—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å ‚Üí –ü–ª–∞–Ω—ã, –£—Ä–æ–∫–∏, –î–ó, –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –°—Ç—É–¥–µ–Ω—Ç—ã ‚Üí –°–ø–∏—Å–∫–∏ (—Å–µ–±—è)
- ‚ùå HR, –§–∏–Ω–∞–Ω—Å—ã, –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –≠–î–û

#### **üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –ß–∞—Ç, AI —á–∞—Ç, –ö–∞–ª–µ–Ω–¥–∞—Ä—å, –ó–∞–¥–∞—á–∏
- ‚úÖ –°—Ç—É–¥–µ–Ω—Ç—ã ‚Üí –°–ø–∏—Å–∫–∏ (–¥–µ—Ç–µ–π)
- ‚úÖ –§–∏–Ω–∞–Ω—Å—ã ‚Üí –û–ø–ª–∞—Ç—ã (—Å–≤–æ–∏)
- ‚ùå –£—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, HR, –ù–∞—Å—Ç—Ä–æ–π–∫–∏

## üß™ **–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend**
2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å** –∫–∞–∫ –ª—é–±–∞—è —Ä–æ–ª—å
3. **–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã** (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –£—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, etc.)
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–¥—Å–µ–∫—Ü–∏–∏ –≤—ã–ø–∞–¥–∞—é—Ç** –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
5. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —Ä–æ–ª—å** –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ—Å—Ç—É–ø –º–µ–Ω—è–µ—Ç—Å—è

## üéâ **Sidebar.tsx —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å RBAC!**

**–ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—ã–ø–∞–¥–∞—é—â–∏—Ö –ø–æ–¥—Å–µ–∫—Ü–∏–π.**

---

*–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞: Sidebar + RBAC ‚úÖ*  
*–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: 5 –º–∏–Ω—É—Ç ‚è±Ô∏è*
