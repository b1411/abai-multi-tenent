# Система образовательных отчетов согласно приказу 125

## Обзор

Данная система реализует отчетность по успеваемости обучающихся в соответствии с требованиями приказа 125 Министерства образования и науки Республики Казахстан.

## Основные функции

### 1. Периодическое оценивание

Система поддерживает следующие периоды оценивания:
- **День** - ежедневные оценки за уроки
- **Неделя** - недельные итоговые оценки
- **Четверть** - четвертные итоговые оценки
- **Год** - годовые итоговые оценки

### 2. Расчет итоговых оценок

Алгоритм расчета соответствует приказу 125:
- Итоговая оценка рассчитывается как среднее арифметическое всех оценок за период
- При округлении используется стандартное математическое округление
- Учитываются все виды оценочных работ (контрольные, самостоятельные, устные ответы и т.д.)

### 3. Качество знаний

Показатель качества знаний рассчитывается как:
```
Качество знаний = (Количество оценок 4 и 5) / (Общее количество оценок) × 100%
```

Уровни качества знаний:
- **Высокий уровень** - 80% и выше
- **Хороший уровень** - 60-79%
- **Удовлетворительный уровень** - 40-59%
- **Низкий уровень** - менее 40%

## API Endpoints

### Получение списка студентов
```
GET /educational-reports/students
```

**Параметры запроса:**
- `period` - период отчета (day, week, quarter, year)
- `classId` - ID класса/группы
- `className` - название класса/группы
- `search` - поиск по ФИО студента

### Получение оценок студента
```
GET /educational-reports/students/:studentId/grades
```

**Параметры запроса:**
- `period` - период отчета
- `subjectId` - ID предмета
- `startDate` - начальная дата периода
- `endDate` - конечная дата периода

### Расчет итоговых оценок
```
GET /educational-reports/students/:studentId/period-grades
```

Возвращает итоговые оценки по всем предметам согласно приказу 125.

### Получение данных о посещаемости
```
GET /educational-reports/students/:studentId/attendance
```

### Статистика качества знаний
```
GET /educational-reports/quality-statistics
```

Возвращает агрегированную статистику по качеству знаний.

## Структура данных

### Student (Студент)
```typescript
interface Student {
  id: number;
  userId: number;
  groupId: number;
  user: {
    name: string;
    surname: string;
    middlename: string;
  };
  group: {
    name: string;
  };
}
```

### SubjectGrades (Оценки по предмету)
```typescript
interface SubjectGrades {
  subjectId: number;
  subjectName: string;
  grades: GradeDetail[];
  averageGrade: number;
  qualityPercentage: number;
  gradesCount: number;
  teacherName: string;
}
```

### GradeDetail (Детали оценки)
```typescript
interface GradeDetail {
  id: number;
  grade: number;
  date: string;
  topic: string;
  gradeType: string;
  teacherName: string;
  comment?: string;
}
```

## Фронтенд интеграция

### Компонент EducationalReports

Основной компонент находится в `apps/frontend/src/pages/EducationalReports.tsx` и включает:

- **Фильтры** - по периоду, классу, предмету, учителю
- **KPI метрики** - общее количество студентов, качество знаний, средний балл, пропуски
- **Графики** - динамика среднего балла, пропуски, распределение оценок
- **Таблица успеваемости** - детальная информация по каждому студенту
- **Экспорт** - в форматах Excel и PDF

### API клиент

API клиент находится в `apps/frontend/src/services/educationalReportsApi.ts` и предоставляет:

- Типизированные интерфейсы для всех данных
- Методы для всех API endpoints
- Утилиты для расчета качества знаний и среднего балла
- Форматирование имен студентов

## Тестирование

### Автоматический тест системы

Запустите тест системы оценивания:

```bash
cd apps/backend
pnpm run test:educational-reports
```

Тест проверяет:
- Расчет итоговых оценок по периодам
- Определение качества знаний
- Различные сценарии оценивания
- Работу с реальными данными из БД

### Ручное тестирование

1. Убедитесь что в БД есть тестовые данные:
```bash
cd apps/backend
pnpm run db:seed
```

2. Запустите бэкенд:
```bash
cd apps/backend
pnpm run dev
```

3. Запустите фронтенд:
```bash
cd apps/frontend
pnpm run dev
```

4. Откройте браузер и перейдите на `/educational-reports`

## Соответствие приказу 125

### Требования к оцениванию

✅ **Периодичность оценивания**
- Поддерживаются все необходимые периоды (день, неделя, четверть, год)

✅ **Расчет итоговых оценок**
- Используется среднее арифметическое
- Применяется математическое округление
- Учитываются все виды работ

✅ **Качество знаний**
- Рассчитывается процент учащихся с оценками 4 и 5
- Определяются уровни качества знаний

✅ **Отчетность**
- Формируются отчеты по классам и предметам
- Экспорт в различных форматах
- Статистические показатели

### Типы оценочных работ

Система учитывает следующие типы работ:
- Контрольные работы
- Самостоятельные работы
- Устные ответы
- Домашние задания
- Тесты
- Итоговые работы

## Безопасность и доступ

### Роли пользователей

- **Администратор** - полный доступ ко всем данным
- **Учитель** - доступ к своим предметам и классам
- **Классный руководитель** - доступ к своему классу
- **Родитель** - доступ только к данным своего ребенка

### Авторизация

Все API endpoints защищены авторизацией через JWT токены.

## Производительность

### Оптимизация запросов

- Используются индексы БД для быстрого поиска
- Пагинация для больших наборов данных
- Кэширование статистических данных

### Масштабируемость

- Модульная архитектура
- Возможность горизонтального масштабирования
- Оптимизированные запросы к БД

## Будущие улучшения

1. **Интеграция с внешними системами**
   - Экспорт в государственные системы отчетности
   - Интеграция с электронными дневниками

2. **Расширенная аналитика**
   - Прогнозирование успеваемости
   - Рекомендации по улучшению качества образования

3. **Мобильное приложение**
   - Доступ к отчетам с мобильных устройств
   - Push-уведомления о новых оценках

## Поддержка

При возникновении вопросов или проблем обращайтесь к разработчикам системы.

Документация актуальна на: Январь 2025
