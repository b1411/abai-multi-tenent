# –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞–º–∏ (Vacations)

## –û–ø–∏—Å–∞–Ω–∏–µ
–ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞–º–∏ –∏ –±–æ–ª—å–Ω–∏—á–Ω—ã–º–∏ –ª–∏—Å—Ç–∞–º–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫, –∏—Ö —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–º–µ—â–µ–Ω–∏–π –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏**: –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞—è–≤–∫–∏
- **HR –∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã**: –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏, –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã, –Ω–∞–∑–Ω–∞—á–∞—Ç—å –∑–∞–º–µ—â–µ–Ω–∏—è

### üìù –¢–∏–ø—ã –æ—Ç–ø—É—Å–∫–æ–≤
- `vacation` - –û–±—ã—á–Ω—ã–π –æ—Ç–ø—É—Å–∫
- `sick_leave` - –ë–æ–ª—å–Ω–∏—á–Ω—ã–π –ª–∏—Å—Ç
- `maternity_leave` - –î–µ–∫—Ä–µ—Ç–Ω—ã–π –æ—Ç–ø—É—Å–∫
- `unpaid_leave` - –û—Ç–ø—É—Å–∫ –±–µ–∑ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
- `business_trip` - –ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞

### üìä –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫
- `pending` - –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏
- `approved` - –û–¥–æ–±—Ä–µ–Ω–æ
- `rejected` - –û—Ç–∫–ª–æ–Ω–µ–Ω–æ
- `completed` - –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```
POST   /vacations                     - –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –æ—Ç–ø—É—Å–∫
GET    /vacations                     - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç–ø—É—Å–∫–æ–≤ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
GET    /vacations/:id                 - –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–ø—É—Å–∫ –ø–æ ID
PATCH  /vacations/:id                 - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞—è–≤–∫—É
PATCH  /vacations/:id/status          - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ—Ç–ø—É—Å–∫–∞
DELETE /vacations/:id                 - –£–¥–∞–ª–∏—Ç—å –∑–∞—è–≤–∫—É
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
```
GET    /vacations/summary             - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–ø—É—Å–∫–∞–º
GET    /vacations/teacher/:id/summary - –°–≤–æ–¥–∫–∞ –ø–æ –æ—Ç–ø—É—Å–∫–∞–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
GET    /vacations/substitutions       - –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—â–µ–Ω–∏–π
```

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `search` - –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
- `type` - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –æ—Ç–ø—É—Å–∫–∞
- `status` - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `period` - –§–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É (current-year, next-year, previous-year)
- `startDate` / `endDate` - –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–∞–º
- `substituteId` - –§–∏–ª—å—Ç—Ä –ø–æ –∑–∞–º–µ—â–∞—é—â–µ–º—É –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é
- `page` / `limit` - –ü–∞–≥–∏–Ω–∞—Ü–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### CreateVacationDto
```typescript
{
  type: VacationType;           // –¢–∏–ø –æ—Ç–ø—É—Å–∫–∞
  startDate: string;            // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ (ISO string)
  endDate: string;              // –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (ISO string)
  days: number;                 // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π
  substituteId?: number;        // ID –∑–∞–º–µ—â–∞—é—â–µ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
  comment?: string;             // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
  lectureTopics?: string;       // –¢–µ–º—ã –ª–µ–∫—Ü–∏–π –¥–ª—è –∑–∞–º–µ—â–µ–Ω–∏—è
}
```

### –û—Ç–≤–µ—Ç API
```typescript
{
  id: number;
  type: VacationType;
  startDate: Date;
  endDate: Date;
  days: number;
  status: VacationStatus;
  comment?: string;
  teacher: {
    id: number;
    user: {
      name: string;
      surname: string;
      email: string;
    }
  };
  substitute?: {
    id: number;
    user: {
      name: string;
      surname: string;
    }
  };
  documents: VacationDocument[];
  createdAt: Date;
  updatedAt: Date;
}
```

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –æ—Ç–ø—É—Å–∫–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∑–∞–º–µ—â–∞—é—â–µ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è HR –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ü–æ–¥—Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–Ω–µ–π –æ—Ç–ø—É—Å–∫–∞ –ø–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –æ—Ç–ø—É—Å–∫–æ–≤
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –æ—Ç–¥–µ–ª–∞–º –∏ –ø–µ—Ä–∏–æ–¥–∞–º

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### Teachers
- –°–≤—è–∑—å —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ `teacherId`
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–º–µ—â–∞—é—â–∏—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö

### Notifications
- –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–º–µ—â–µ–Ω–∏—è

### Files
- –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∫ –∑–∞—è–≤–∫–∞–º —á–µ—Ä–µ–∑ `VacationDocument`

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –æ—Ç–ø—É—Å–∫
```typescript
const vacation = await vacationsService.create({
  type: 'vacation',
  startDate: '2024-07-01T00:00:00Z',
  endDate: '2024-07-28T00:00:00Z',
  days: 28,
  substituteId: 2,
  comment: '–ü–ª–∞–Ω–æ–≤—ã–π –ª–µ—Ç–Ω–∏–π –æ—Ç–ø—É—Å–∫',
  lectureTopics: '–ê–ª–≥–µ–±—Ä–∞: –º–Ω–æ–≥–æ—á–ª–µ–Ω—ã, –ì–µ–æ–º–µ—Ç—Ä–∏—è: —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏'
}, teacherId);
```

### –û–¥–æ–±—Ä–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
```typescript
const approved = await vacationsService.updateStatus(id, {
  status: 'approved',
  comment: '–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ —Å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º',
  notifyEmployee: true
}, currentUserId);
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
```typescript
const summary = await vacationsService.getTeacherVacationSummary(teacherId);
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: { totalDays: 28, usedDays: 14, remainingDays: 14, sickLeaveDays: 3 }
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í—Å–µ endpoints –∑–∞—â–∏—â–µ–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é DTO –∏ class-validator
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π (soft delete)
