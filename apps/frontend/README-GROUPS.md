# Groups Management

Этот модуль предоставляет функциональность для управления учебными группами в системе ABAI LMS.

## Структура файлов

- `src/types/group.ts` - TypeScript интерфейсы для групп
- `src/services/groupService.ts` - API сервис для работы с группами
- `src/hooks/useGroups.ts` - React хук для управления состоянием групп
- `src/components/GroupForm.tsx` - Форма создания/редактирования группы
- `src/pages/Groups.tsx` - Главная страница управления группами

## Основные возможности

### 1. Просмотр групп
- Отображение всех групп в виде карточек
- Группировка по курсам (1-6)
- Фильтрация групп по номеру курса
- Статистика: общее количество групп, студентов, среднее количество студентов в группе

### 2. Создание групп
- Форма создания новой группы
- Валидация данных на клиенте
- Поля: название группы, номер курса (1-6)

### 3. Управление группами
- Удаление групп с подтверждением
- Просмотр информации о группе (количество студентов, дата создания)
- Цветовая индикация курсов

### 4. Управление студентами в группах
- Добавление студентов в группу
- Исключение студентов из группы
- Автоматическое обновление статистики

## API endpoints

Модуль работает с следующими API endpoints:

- `GET /groups` - получить все группы
- `POST /groups` - создать новую группу
- `GET /groups/:id` - получить группу по ID
- `PATCH /groups/:id` - обновить группу
- `DELETE /groups/:id` - удалить группу
- `GET /groups/course/:courseNumber` - получить группы по курсу
- `GET /groups/statistics` - получить статистику групп
- `POST /groups/:groupId/students/:studentId` - добавить студента в группу
- `DELETE /groups/students/:studentId` - исключить студента из группы
- `GET /groups/:id/schedule` - получить расписание группы
- `GET /groups/:id/study-plans` - получить учебные планы группы

## Типы данных

### Group
```typescript
interface Group {
  id: number;
  name: string;
  courseNumber: number;
  createdAt: string;
  updatedAt: string;
  deletedAt?: string;
  studentsCount?: number;
  students?: Student[];
  studyPlans?: StudyPlan[];
  schedules?: Schedule[];
}
```

### CreateGroupDto
```typescript
interface CreateGroupDto {
  name: string;
  courseNumber: number;
}
```

### GroupStatistics
```typescript
interface GroupStatistics {
  totalGroups: number;
  totalStudents: number;
  averageStudentsPerGroup: number;
  groupsByCourse: {
    courseNumber: number;
    count: number;
  }[];
}
```

## Права доступа

- **Просмотр групп**: ADMIN, TEACHER, STUDENT, PARENT
- **Создание групп**: ADMIN
- **Редактирование групп**: ADMIN
- **Удаление групп**: ADMIN
- **Управление студентами в группах**: ADMIN

## Навигация

Страница доступна по маршруту `/groups` в разделе "Студенты" → "Группы" в боковой навигации.

## Компоненты пользовательского интерфейса

### GroupForm
- Форма для создания новой группы
- Валидация полей
- Поддержка загрузочного состояния
- Обработка ошибок

### Groups (основная страница)
- Статистические карточки
- Фильтр по курсам
- Список групп в виде карточек
- Модальные окна для создания и удаления
- Уведомления об ошибках

## Особенности реализации

1. **Состояние**: Управляется через custom hook `useGroups`
2. **Валидация**: Клиентская валидация форм
3. **UI/UX**: Responsive дизайн, модальные окна, загрузочные состояния
4. **Обработка ошибок**: Централизованная обработка ошибок API
5. **Оптимизация**: Автоматическое обновление статистики при изменениях

## Будущие улучшения

- Редактирование информации о группе
- Массовые операции с группами
- Импорт/экспорт групп
- История изменений группы
- Интеграция с расписанием и учебными планами
- Поиск и сортировка групп
- Детальная страница группы с полной информацией
