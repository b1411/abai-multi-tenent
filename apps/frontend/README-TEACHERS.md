# Teachers Page Documentation

## Обзор
Страница "Сотрудники и преподаватели" предоставляет комплексное решение для управления кадровым составом образовательного учреждения. Страница основана на референсе из legacy frontend и полностью интегрирована с backend API.

## Функциональность

### Основные возможности
- **Просмотр списка преподавателей** - отображение всех сотрудников с разделением на штатных и совместителей
- **Поиск и фильтрация** - поиск по имени, фамилии, email и фильтрация по типу занятости
- **Детальная информация** - полная информация о преподавателе включая контакты, предметы, расписание
- **Управление данными** - добавление, редактирование и удаление преподавателей
- **Перемещение между категориями** - возможность переводить преподавателей из штатных в совместители и обратно
- **Экспорт данных** - выгрузка данных в Excel/CSV формате

### Интерфейс

#### Главная страница
- **Заголовок и описание** страницы
- **Кнопки действий**: Экспорт и Добавить преподавателя
- **Панель поиска и фильтров**
- **Двухколоночный макет**: Штатные преподаватели | Совместители

#### Таблица преподавателей
Каждая таблица содержит:
- **Преподаватель** - фото (инициалы), ФИО, email
- **Предметы** - список преподаваемых дисциплин (до 3 с показом "+N еще")
- **Нагрузка** - количество групп и часов в неделю
- **Контакты** - телефон
- **Действия** - удаление и дополнительные опции

#### Модальное окно преподавателя
Детальная информация включает:

**Контактная информация:**
- Email
- Телефон

**Профессиональная информация:**
- Специализация
- Квалификация
- Опыт работы

**Преподаваемые предметы:**
- Список учебных планов/дисциплин
- Описание предметов
- Закрепленные группы

**Расписание:**
- День недели и время
- Предмет и группа
- Аудитория

**Действия:**
- Редактировать
- Скачать личное дело
- Удалить

### API интеграция

#### Основные endpoints
```typescript
// Получение всех преподавателей
GET /teachers

// Получение преподавателя по ID
GET /teachers/:id

// Создание нового преподавателя
POST /teachers

// Обновление преподавателя
PATCH /teachers/:id

// Удаление преподавателя
DELETE /teachers/:id

// Поиск преподавателей
GET /teachers/search?q=query

// Получение нагрузки преподавателя
GET /teachers/:id/workload

// Получение расписания преподавателя
GET /teachers/:id/schedule

// Статистика по преподавателям
GET /teachers/statistics

// Экспорт данных
GET /teachers/export?format=xlsx
```

### Типы данных

#### Teacher
```typescript
interface Teacher {
  id: number;
  userId: number;
  employmentType: 'STAFF' | 'PART_TIME';
  specialization?: string;
  qualification?: string;
  experience?: number;
  user: User;
  studyPlans?: StudyPlan[];
  schedules?: Schedule[];
  vacations?: Vacation[];
}
```

#### User
```typescript
interface User {
  id: number;
  email: string;
  name: string;
  surname: string;
  middlename?: string;
  phone?: string;
  avatar?: string;
  role: string;
}
```

#### StudyPlan
```typescript
interface StudyPlan {
  id: number;
  name: string;
  description?: string;
  normativeWorkload?: number;
  group?: Group[];
}
```

#### Schedule
```typescript
interface Schedule {
  id: string;
  dayOfWeek: number; // 1-7
  startTime: string; // HH:MM
  endTime: string; // HH:MM
  studyPlan: { id: number; name: string; };
  group: { id: number; name: string; courseNumber: number; };
  classroom?: { id: number; name: string; building: string; floor: number; };
}
```

### Хуки

#### useTeachers
```typescript
const { teachers, loading, error, refreshTeachers } = useTeachers(filters);
```
Загружает список преподавателей с возможностью фильтрации.

#### useTeacher
```typescript
const { teacher, loading, error, refreshTeacher } = useTeacher(id);
```
Загружает данные конкретного преподавателя.

#### useTeacherActions
```typescript
const { 
  createTeacher, 
  updateTeacher, 
  deleteTeacher, 
  exportTeachers, 
  loading, 
  error 
} = useTeacherActions();
```
Предоставляет функции для CRUD операций и экспорта.

### Особенности реализации

#### Фильтрация
- **Поиск по тексту** - поиск в имени, фамилии и email
- **Тип занятости** - штатные, совместители или все
- **Реальное время** - фильтрация применяется мгновенно

#### Разделение на категории
Преподаватели автоматически разделяются на две колонки:
- **Штатные преподаватели** (employmentType: 'STAFF')
- **Совместители** (employmentType: 'PART_TIME')

#### Отображение данных
- **Аватары** - инициалы в цветных кружках
- **Предметы** - цветные теги с ограничением отображения
- **Нагрузка** - иконки с числовыми показателями
- **Статусы** - цветные бейджи для типа занятости

#### Модальные окна
- **Детальная информация** - полная информация о преподавателе
- **Добавление** - выбор типа занятости (пока заглушка)

### Стилизация
Использует Tailwind CSS для:
- Адаптивный дизайн (responsive grid)
- Интерактивные элементы (hover states)
- Цветовая схема (blue/yellow для типов занятости)
- Анимации и переходы

### Обработка ошибок
- Отображение ошибок через Alert компонент
- Подтверждение критических действий (удаление)
- Graceful degradation при отсутствии данных

### Будущие улучшения
- Форма добавления/редактирования преподавателей
- Массовые операции
- Импорт данных из файлов
- Уведомления об изменениях
- Интеграция с системой отпусков
- Аналитика и отчеты по кадрам

## Файловая структура
```
apps/frontend/src/
├── types/teacher.ts           # TypeScript типы
├── services/teacherService.ts # API клиент
├── hooks/useTeachers.ts       # React хуки
├── pages/Teachers.tsx         # Основной компонент
└── README-TEACHERS.md         # Документация
```

## Зависимости
- React 18+
- React Router для навигации
- React Icons для иконок
- Tailwind CSS для стилей
- TypeScript для типизации

## Использование
Страница доступна по маршруту `/hr/employees` и требует аутентификации пользователя.
