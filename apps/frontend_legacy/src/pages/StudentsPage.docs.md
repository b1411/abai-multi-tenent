# Документация API для StudentsPage (Список студентов)

## Общее описание
API для управления списком студентов в образовательном учреждении. Система обеспечивает просмотр, поиск и фильтрацию списка студентов, а также быстрый доступ к основной информации о каждом студенте.

## Модели данных

### Student (Студент)
```typescript
interface Student {
  id: string;           // Уникальный идентификатор
  name: string;         // ФИО студента
  class: string;        // Группа
  performance: number;  // Успеваемость (%)
  attendance: number;   // Посещаемость (%)
  emotionalState: string; // Эмоциональное состояние
  payments: string;     // Статус оплаты
  image: string;        // URL фотографии
  phone?: string;       // Телефон
  email?: string;       // Email
  birthDate?: string;   // Дата рождения
  parentName?: string;  // ФИО родителя
  parentPhone?: string; // Телефон родителя
}
```

## API Endpoints

### 1. Управление списком студентов

#### 1.1. Получение списка студентов
```
GET /api/students
```
**Query параметры:**
- `class` (string, опционально) - фильтр по группе
- `search` (string, опционально) - поисковый запрос
- `page` (number, опционально) - номер страницы
- `limit` (number, опционально) - количество записей на странице

**Ответ:**
```typescript
{
  students: Student[];
  metadata: {
    total: number;
    page: number;
    limit: number;
    totalPages: number;
  };
}
```

#### 1.2. Получение списка групп
```
GET /api/classes
```
**Ответ:**
```typescript
{
  classes: string[];
}
```

#### 1.3. Поиск студентов
```
GET /api/students/search
```
**Query параметры:**
- `query` (string) - поисковый запрос
- `class` (string, опционально) - фильтр по группе

**Ответ:**
```typescript
{
  students: Student[];
  total: number;
}
```

### 2. Управление данными студента

#### 2.1. Получение краткой информации о студенте
```
GET /api/students/{id}/brief
```
**Ответ:**
```typescript
{
  student: {
    id: string;
    name: string;
    class: string;
    phone: string;
    email: string;
    birthDate: string;
    parentName: string;
    parentPhone: string;
    image: string;
  };
}
```

## Права доступа

### Роли пользователей:
1. Администратор:
   - Полный доступ к списку студентов
   - Просмотр всей информации
   - Управление данными студентов

2. Преподаватель:
   - Просмотр списка студентов своих групп
   - Просмотр основной информации
   - Доступ к контактным данным

3. Куратор:
   - Просмотр списка студентов своей группы
   - Полный доступ к информации своих студентов
   - Управление данными своих студентов

4. Студент:
   - Просмотр списка одногруппников
   - Ограниченный доступ к информации

## Примеры запросов

### Получение списка студентов с фильтрацией
```bash
curl -X GET http://api.example.com/api/students \
  -H "Authorization: Bearer {token}" \
  -d '{
    "class": "МК24-1М",
    "search": "Алихан",
    "page": 1,
    "limit": 10
  }'
```

### Поиск студентов
```bash
curl -X GET http://api.example.com/api/students/search \
  -H "Authorization: Bearer {token}" \
  -d '{
    "query": "Алихан",
    "class": "МК24-1М"
  }'
```

## Коды ответов
- 200: Успешное выполнение
- 400: Некорректный запрос
- 401: Не авторизован
- 403: Нет прав доступа
- 404: Ресурс не найден
- 500: Внутренняя ошибка сервера

## Требования к данным
1. Валидация поисковых запросов
2. Фильтрация конфиденциальных данных
3. Проверка прав доступа
4. Кэширование часто запрашиваемых данных
5. Пагинация больших списков

## Дополнительные функции
1. Быстрый просмотр информации о студенте
2. Фильтрация по группам
3. Поиск по имени
4. Модальное окно с деталями
5. Переход к полному профилю

## Интеграции
1. Система управления студентами
2. Система аутентификации
3. Система управления группами
4. Система хранения изображений
5. Система уведомлений

## UI Компоненты

### StudentModal (Модальное окно студента)
```typescript
interface StudentModalProps {
  student: Student | null;
  onClose: () => void;
  onViewDetails: (studentId: string) => void;
}
```

### StudentCard (Карточка студента)
```typescript
interface StudentCardProps {
  student: Student;
  onClick: () => void;
}
```

## Фильтры и поиск

### Поисковые параметры
- Поиск по имени
- Фильтрация по группе
- Сортировка по успеваемости
- Фильтрация по статусу оплаты

### Группы фильтрации
```typescript
const classes = [
  'Все группы',
  'МК24-1М',
  'МК24-2М',
  'ПК24-1П',
  'ПК24-2П',
  'ПД24-1Д'
];
``` 